<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HiPerC: mesh.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HiPerC
   &#160;<span id="projectnumber">alpha</span>
   </div>
   <div id="projectbrief">High Performance Computing Strategies for Boundary Value Problems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5cfb9baab1f8612748293cbc8c3e07d8.html">common-diffusion</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mesh.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Declaration of mesh function prototypes for diffusion benchmarks.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="type_8h_source.html">type.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mesh.h:</div>
<div class="dyncontent">
<div class="center"><img src="mesh_8h__incl.png" border="0" usemap="#amesh_8h" alt=""/></div>
<map name="amesh_8h" id="amesh_8h">
<area shape="rect" title="Declaration of mesh function prototypes for diffusion benchmarks." alt="" coords="5,5,69,32"/>
<area shape="rect" href="type_8h.html" title="Definition of scalar data type and Doxygen diffusion group." alt="" coords="9,80,65,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="mesh_8h__dep__incl.png" border="0" usemap="#amesh_8hdep" alt=""/></div>
<map name="amesh_8hdep" id="amesh_8hdep">
<area shape="rect" title="Declaration of mesh function prototypes for diffusion benchmarks." alt="" coords="892,5,956,32"/>
<area shape="rect" href="mesh_8c.html" title="Implemenatation of mesh handling functions for diffusion benchmarks." alt="" coords="5,80,69,107"/>
<area shape="rect" href="serial__discretization_8c.html" title="Implementation of boundary condition functions without threading." alt="" coords="93,80,240,107"/>
<area shape="rect" href="serial__main_8c.html" title="Serial implementation of semi&#45;infinite diffusion equation." alt="" coords="264,80,363,107"/>
<area shape="rect" href="openmp__discretization_8c.html" title="Implementation of boundary condition functions with OpenMP threading." alt="" coords="387,80,549,107"/>
<area shape="rect" href="openmp__main_8c.html" title="OpenMP implementation of semi&#45;infinite diffusion equation." alt="" coords="573,80,686,107"/>
<area shape="rect" href="tbb__discretization_8cpp.html" title="Implementation of boundary condition functions with TBB threading." alt="" coords="711,80,857,107"/>
<area shape="rect" href="tbb__main_8c.html" title="Threading Building Blocks implementation of semi&#45;infinite diffusion equation." alt="" coords="881,80,967,107"/>
<area shape="rect" href="cuda__discretization_8cu.html" title="Implementation of boundary condition functions with CUDA acceleration." alt="" coords="991,80,1142,107"/>
<area shape="rect" href="cuda__main_8c.html" title="CUDA implementation of semi&#45;infinite diffusion equation." alt="" coords="1166,80,1261,107"/>
<area shape="rect" href="openacc__discretization_8c.html" title="Implementation of boundary condition functions with OpenACC threading." alt="" coords="1285,80,1449,107"/>
<area shape="rect" href="openacc__main_8c.html" title="OpenACC implementation of semi&#45;infinite diffusion equation." alt="" coords="1473,80,1589,107"/>
<area shape="rect" href="opencl__discretization_8c.html" title="Implementation of boundary condition functions with OpenCL acceleration." alt="" coords="1613,80,1766,107"/>
<area shape="rect" href="opencl__main_8c.html" title="OpenCL implementation of semi&#45;infinite diffusion equation." alt="" coords="1790,80,1895,107"/>
</map>
</div>
</div>
<p><a href="mesh_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae1c267a2ebb220228ca2adc1a8701d76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mesh_8h.html#ae1c267a2ebb220228ca2adc1a8701d76">make_arrays</a> (<a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***conc_old, <a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***conc_new, <a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***conc_lap, <a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***mask_lap, const int nx, const int ny, const int nm)</td></tr>
<tr class="memdesc:ae1c267a2ebb220228ca2adc1a8701d76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate 2D arrays to store scalar composition values.  <a href="mesh_8h.html#ae1c267a2ebb220228ca2adc1a8701d76">More...</a><br /></td></tr>
<tr class="separator:ae1c267a2ebb220228ca2adc1a8701d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51944f9754f3dec9cfa62aa917e5e5d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mesh_8h.html#a51944f9754f3dec9cfa62aa917e5e5d5">free_arrays</a> (<a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **conc_old, <a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **conc_new, <a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **conc_lap, <a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **mask_lap)</td></tr>
<tr class="memdesc:a51944f9754f3dec9cfa62aa917e5e5d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free dynamically allocated memory.  <a href="mesh_8h.html#a51944f9754f3dec9cfa62aa917e5e5d5">More...</a><br /></td></tr>
<tr class="separator:a51944f9754f3dec9cfa62aa917e5e5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7550962b061f580d31ddeafbed0ab7a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mesh_8h.html#a7550962b061f580d31ddeafbed0ab7a3">swap_pointers</a> (<a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***conc_old, <a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***conc_new)</td></tr>
<tr class="memdesc:a7550962b061f580d31ddeafbed0ab7a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap pointers to 2D arrays.  <a href="mesh_8h.html#a7550962b061f580d31ddeafbed0ab7a3">More...</a><br /></td></tr>
<tr class="separator:a7550962b061f580d31ddeafbed0ab7a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907b5a49e237e3e2192f6020002187e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mesh_8h.html#a907b5a49e237e3e2192f6020002187e2">swap_pointers_1D</a> (<a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **conc_old, <a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **conc_new)</td></tr>
<tr class="memdesc:a907b5a49e237e3e2192f6020002187e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap pointers to data underlying 1D arrays.  <a href="mesh_8h.html#a907b5a49e237e3e2192f6020002187e2">More...</a><br /></td></tr>
<tr class="separator:a907b5a49e237e3e2192f6020002187e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Declaration of mesh function prototypes for diffusion benchmarks. </p>

<p class="definition">Definition in file <a class="el" href="mesh_8h_source.html">mesh.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a51944f9754f3dec9cfa62aa917e5e5d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51944f9754f3dec9cfa62aa917e5e5d5">&#9670;&nbsp;</a></span>free_arrays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_arrays </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **&#160;</td>
          <td class="paramname"><em>conc_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **&#160;</td>
          <td class="paramname"><em>conc_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **&#160;</td>
          <td class="paramname"><em>conc_lap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **&#160;</td>
          <td class="paramname"><em>mask_lap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free dynamically allocated memory. </p>

<p class="definition">Definition at line <a class="el" href="mesh_8c_source.html#l00044">44</a> of file <a class="el" href="mesh_8c_source.html">mesh.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mesh_8h_a51944f9754f3dec9cfa62aa917e5e5d5_icgraph.png" border="0" usemap="#amesh_8h_a51944f9754f3dec9cfa62aa917e5e5d5_icgraph" alt=""/></div>
<map name="amesh_8h_a51944f9754f3dec9cfa62aa917e5e5d5_icgraph" id="amesh_8h_a51944f9754f3dec9cfa62aa917e5e5d5_icgraph">
<area shape="rect" title="Free dynamically allocated memory." alt="" coords="104,5,191,32"/>
<area shape="rect" href="cuda__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Run simulation using input parameters specified on the command line." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="ae1c267a2ebb220228ca2adc1a8701d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c267a2ebb220228ca2adc1a8701d76">&#9670;&nbsp;</a></span>make_arrays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void make_arrays </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***&#160;</td>
          <td class="paramname"><em>conc_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***&#160;</td>
          <td class="paramname"><em>conc_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***&#160;</td>
          <td class="paramname"><em>conc_lap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***&#160;</td>
          <td class="paramname"><em>mask_lap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>ny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate 2D arrays to store scalar composition values. </p>
<p>Arrays are allocated as 1D arrays, then 2D pointer arrays are mapped over the top. This facilitates use of either 1D or 2D data access, depending on whether the task is spatially dependent or not. </p>

<p class="definition">Definition at line <a class="el" href="mesh_8c_source.html#l00015">15</a> of file <a class="el" href="mesh_8c_source.html">mesh.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mesh_8h_ae1c267a2ebb220228ca2adc1a8701d76_icgraph.png" border="0" usemap="#amesh_8h_ae1c267a2ebb220228ca2adc1a8701d76_icgraph" alt=""/></div>
<map name="amesh_8h_ae1c267a2ebb220228ca2adc1a8701d76_icgraph" id="amesh_8h_ae1c267a2ebb220228ca2adc1a8701d76_icgraph">
<area shape="rect" title="Allocate 2D arrays to store scalar composition values." alt="" coords="104,5,200,32"/>
<area shape="rect" href="cuda__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Run simulation using input parameters specified on the command line." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a7550962b061f580d31ddeafbed0ab7a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7550962b061f580d31ddeafbed0ab7a3">&#9670;&nbsp;</a></span>swap_pointers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swap_pointers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***&#160;</td>
          <td class="paramname"><em>conc_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> ***&#160;</td>
          <td class="paramname"><em>conc_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Swap pointers to 2D arrays. </p>
<p>Rather than copy data from <code>fp_t**</code> <em>conc_old</em> into <code>fp_t**</code> <em>conc_new</em>, an expensive operation, simply trade the top-most pointers. New becomes old, old becomes new, with no data lost and in almost no time. </p>

<p class="definition">Definition at line <a class="el" href="mesh_8c_source.html#l00059">59</a> of file <a class="el" href="mesh_8c_source.html">mesh.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mesh_8h_a7550962b061f580d31ddeafbed0ab7a3_icgraph.png" border="0" usemap="#amesh_8h_a7550962b061f580d31ddeafbed0ab7a3_icgraph" alt=""/></div>
<map name="amesh_8h_a7550962b061f580d31ddeafbed0ab7a3_icgraph" id="amesh_8h_a7550962b061f580d31ddeafbed0ab7a3_icgraph">
<area shape="rect" title="Swap pointers to 2D arrays." alt="" coords="104,5,211,32"/>
<area shape="rect" href="openacc__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Run simulation using input parameters specified on the command line." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a907b5a49e237e3e2192f6020002187e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a907b5a49e237e3e2192f6020002187e2">&#9670;&nbsp;</a></span>swap_pointers_1D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swap_pointers_1D </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **&#160;</td>
          <td class="paramname"><em>conc_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab25cc4c4d0a09d9da9582fdcfc6185b5">fp_t</a> **&#160;</td>
          <td class="paramname"><em>conc_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Swap pointers to data underlying 1D arrays. </p>
<p>Rather than copy data from <code>fp_t*</code> <em>conc_old</em>[0] into <code>fp_t*</code> <em>conc_new</em>[0], an expensive operation, simply trade the top-most pointers. New becomes old, old becomes new, with no data lost and in almost no time. </p>

<p class="definition">Definition at line <a class="el" href="mesh_8c_source.html#l00068">68</a> of file <a class="el" href="mesh_8c_source.html">mesh.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mesh_8h_a907b5a49e237e3e2192f6020002187e2_icgraph.png" border="0" usemap="#amesh_8h_a907b5a49e237e3e2192f6020002187e2_icgraph" alt=""/></div>
<map name="amesh_8h_a907b5a49e237e3e2192f6020002187e2_icgraph" id="amesh_8h_a907b5a49e237e3e2192f6020002187e2_icgraph">
<area shape="rect" title="Swap pointers to data underlying 1D arrays." alt="" coords="104,5,233,32"/>
<area shape="rect" href="cuda__main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Run simulation using input parameters specified on the command line." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
